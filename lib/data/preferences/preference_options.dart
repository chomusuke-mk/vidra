import 'package:vidra/constants/app_strings.dart';
import 'package:vidra/constants/languages.dart';

class IntegerSpinnerConfig {
  const IntegerSpinnerConfig({
    this.minSequence = const <Object>[],
    this.maxSequence = const <Object>[],
    this.step = 1,
  });

  final List<Object> minSequence;
  final List<Object> maxSequence;
  final int step;
}

final Map<String, dynamic> dropdownOptions = {
  // Magic Options
  'audio_language': Map.fromEntries({
    MapEntry("best", (lang) => resolveAppString(AppStringKey.best, lang)),
    MapEntry(false, (lang) => resolveAppString(AppStringKey.noOverride, lang)),
    MapEntry("all", (lang) => resolveAppString(AppStringKey.all, lang)),
    ...languageEndonyms.entries,
  }),
  'video_resolution': {
    'best': (lang) => resolveAppString(AppStringKey.best, lang),
    false: (lang) => resolveAppString(AppStringKey.noOverride, lang),
    'all': (lang) => resolveAppString(AppStringKey.all, lang),
    '144': '144p',
    '240': '240p',
    '360': '360p',
    '480': '480p',
    '720': '720p',
    '1080': '1080p',
    '1440': '2K',
    '2160': '4K',
    '4320': '8K',
  },
  'video_subtitles': Map.fromEntries({
    MapEntry("none", (lang) => resolveAppString(AppStringKey.none, lang)),
    MapEntry(false, (lang) => resolveAppString(AppStringKey.noOverride, lang)),
    MapEntry("all", (lang) => resolveAppString(AppStringKey.all, lang)),
    ...languageEndonyms.entries,
  }),
  // General
  'language': languageEndonyms,
  'font_size': [12, 14, 16, 18, 20],
  // Network
  'cookies_from_browser': [
    'brave',
    'chrome',
    'chromium',
    'edge',
    'firefox',
    'opera',
    'safari',
    'vivaldi',
    'whale',
  ],
  // Video
  'merge_output_format': ['mkv', 'mp4', 'webm', 'avi', 'flv', 'mov'],
  'audio_format': [
    'best',
    'aac',
    'alac',
    'flac',
    'm4a',
    'mp3',
    'opus',
    'vorbis',
    'wav',
  ],
  'remux_video': [
    'avi',
    'flv',
    'gif',
    'mkv',
    'mov',
    'mp4',
    'webm',
    'aac',
    'aiff',
    'alac',
    'flac',
    'm4a',
    'mka',
    'mp3',
    'ogg',
    'opus',
    'vorbis',
    'wav',
  ],
  'fixup': ['never', 'warn', 'detect_or_warn', 'force'],
  'convert_thumbnails': ['webp', 'jpg', 'png'],
  'sub_format': ['srt', 'vtt', 'ass', 'lrc', 'ttml'],
};

const Map<String, List<String>> autocompleteOptions = {
  // Network
  'add_headers': [
    'Accept',
    'Accept-Encoding',
    'Accept-Language',
    'Authorization',
    'Cache-Control',
    'Connection',
    'Content-Type',
    'Cookie',
    'Host',
    'If-Modified-Since',
    'Origin',
    'Referer',
    'User-Agent',
    'X-Forwarded-For',
    'X-Requested-With',
  ],
  'sub_langs': languageOptions,
  // Download
  'output': [
    'id',
    'title',
    'fulltitle',
    'ext',
    'alt_title',
    'description',
    'display_id',
    'uploader',
    'uploader_id',
    'uploader_url',
    'license',
    'creators',
    'creator',
    'timestamp',
    'upload_date',
    'release_timestamp',
    'release_date',
    'release_year',
    'modified_timestamp',
    'modified_date',
    'channel',
    'channel_id',
    'channel_url',
    'channel_follower_count',
    'channel_is_verified',
    'location',
    'duration',
    'duration_string',
    'view_count',
    'concurrent_view_count',
    'like_count',
    'dislike_count',
    'repost_count',
    'average_rating',
    'comment_count',
    'age_limit',
    'live_status',
    'is_live',
    'was_live',
    'playable_in_embed',
    'availability',
    'media_type',
    'start_time',
    'end_time',
    'extractor',
    'extractor_key',
    'epoch',
    'autonumber',
    'video_autonumber',
    'n_entries',
    'playlist_id',
    'playlist_title',
    'playlist',
    'playlist_count',
    'playlist_index',
    'playlist_autonumber',
    'playlist_uploader',
    'playlist_uploader_id',
    'playlist_channel',
    'playlist_channel_id',
    'playlist_webpage_url',
    'webpage_url',
    'webpage_url_basename',
    'webpage_url_domain',
    'original_url',
    'categories',
    'tags',
    'cast',
    'chapter',
    'chapter_number',
    'chapter_id',
    'series',
    'series_id',
    'season',
    'season_number',
    'season_id',
    'episode',
    'episode_number',
    'episode_id',
    'track',
    'track_number',
    'track_id',
    'artists',
    'artist',
    'genres',
    'genre',
    'composers',
    'composer',
    'album',
    'album_type',
    'album_artists',
    'album_artist',
    'disc_number',
    'section_title',
    'section_number',
    'section_start',
    'section_end',
  ],
  'paths': [
    'home',
    'temp',
    'video',
    'audio',
    'subtitle',
    'thumbnail',
    'infojson',
    'pl_thumbnail',
    'description',
    'annotation',
    'chapter',
    'sponsor',
  ],
  'sponsorblock_mark': [
    'sponsor',
    'intro',
    'outro',
    'interaction',
    'selfpromo',
    'music_offtopic',
    'poi_highlight',
    'filler',
  ],
  'cookies_from_browser': ['brave', 'chrome'],
};

const Map<String, List<String>> textPlaceholder = {
  // General
  'language': ['English', 'German', 'Chinese', 'Japanese'],
  'font_size': ['14'],
  'use_extractors': ['all', 'default'],
  // Network
  'proxy': ['http://127.0.0.1:8080', 'socks5://127.0.0.1:9050'],
  'source_address': ['0.0.0.0', '::1'],
  'impersonate': ['chrome', 'chrome-110', 'chrome:windows-10'],
  'geo_verification_proxy': ['http://country-proxy:80'],
  'xff': ['203.0.113.10'],
  'add_headers': ['User-Agent: MyDownloader/1.0'],
  'cookies': ['cookies.txt'],
  'username': ['user@example.com'],
  'password': ['app-password'],
  'two_factor': ['000000'],
  // Video
  'output': ['%(title)s.%(ext)s'],
  'paths': ['/dev/downloads'],
  'download_archive': ['archive.txt'],
  'limit_rate': ['4.5M', '750K'],
  'batch_file': ['urls.txt'],
  'paths_sub': ['{"temp":"/tmp"}'],
  'format': ['bestvideo+bestaudio/best'],
  'ffmpeg_location': ['/usr/bin/ffmpeg'],
};

const Set<String> listSuggestionsOnlyKeys = {'mark_watched', 'sub_langs'};

const Map<String, IntegerSpinnerConfig> integerSpinnerConfigs = {
  'retries': IntegerSpinnerConfig(minSequence: <Object>['infinite']),
  'file_access_retries': IntegerSpinnerConfig(
    minSequence: <Object>['infinite'],
  ),
  'fragment_retries': IntegerSpinnerConfig(minSequence: <Object>['infinite']),
  'socket_timeout': IntegerSpinnerConfig(minSequence: <Object>[0]),
  'extractor_retries': IntegerSpinnerConfig(minSequence: <Object>['infinite']),
  'audio_quality': IntegerSpinnerConfig(
    minSequence: <Object>[0],
    maxSequence: <Object>[10],
  ),
};

// Controls any preferences
const Set<String> allowCustomValues = {
  'sponsorblock_mark',
  'output',
  'format',
  'paths',
};
const Set<String> allowSelectionValues = {'sponsorblock_mark'};

const Set<String> blockedListTextModeKeys = {'output'};
const Set<String> blockedMapTextModeKeys = {'paths'};

// Folder Options
const Set<String> folderOptions = {
  'download_archive',
  'paths',
  'cookies',
  'ffmpeg_location',
  'batch_file',
};
